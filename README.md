# Web Terminal

ä¸€ä¸ªåŸºäºWebçš„ç»ˆç«¯ç³»ç»Ÿï¼Œæ”¯æŒé€šè¿‡æµè§ˆå™¨è¿œç¨‹è®¿é—®æœåŠ¡å™¨çš„å‘½ä»¤è¡Œç»ˆç«¯ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ **Webè®¿é—®** - é€šè¿‡æµè§ˆå™¨ç›´æ¥è®¿é—®æœåŠ¡å™¨ç»ˆç«¯
- ğŸ”„ **å®æ—¶åŒæ­¥** - å¤šä¸ªå®¢æˆ·ç«¯å®æ—¶åŒæ­¥ç»ˆç«¯è¾“å‡º
- ğŸ’¾ **å¸¸é©»è¿è¡Œ** - ç»ˆç«¯è¿›ç¨‹åœ¨æµè§ˆå™¨å…³é—­åç»§ç»­è¿è¡Œ
- ğŸ“œ **å†å²æ¢å¤** - é‡æ–°æ‰“å¼€é¡µé¢æ—¶æ¢å¤ä¹‹å‰çš„å‘½ä»¤å†å²
- ğŸ¯ **å¤šç»ˆç«¯æ”¯æŒ** - å¯åŒæ—¶æ‰“å¼€å¤šä¸ªç»ˆç«¯ä¼šè¯
- ğŸ¨ **å¤šç§å¸ƒå±€** - æ”¯æŒTabé¡µæ¨¡å¼å’Œå¹³é“ºæ¨¡å¼
- ğŸ”§ **å®Œæ•´ç¯å¢ƒ** - åŠ è½½å®Œæ•´çš„shellç¯å¢ƒå˜é‡

## åœ¨çº¿æ¼”ç¤º

è®¿é—®åœ°å€: `http://your-server-ip:3000`

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- Linux/macOS/Windows æœåŠ¡å™¨

### å®‰è£…éƒ¨ç½²

#### æ–¹æ³•ä¸€ï¼šç›´æ¥éƒ¨ç½²

```bash
# 1. å…‹éš†ä»£ç 
git clone https://github.com/lynphoenix/claude-web.git
cd claude-web

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨æœåŠ¡
npm start
```

æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

#### æ–¹æ³•äºŒï¼šä½¿ç”¨PM2ï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰

```bash
# 1. å®‰è£…PM2
npm install -g pm2

# 2. å…‹éš†ä»£ç å¹¶å®‰è£…ä¾èµ–
git clone https://github.com/lynphoenix/claude-web.git
cd claude-web
npm install

# 3. ä½¿ç”¨PM2å¯åŠ¨
pm2 start server.js --name web-terminal

# 4. ä¿å­˜PM2é…ç½®
pm2 save

# 5. è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
# æŒ‰ç…§æç¤ºæ‰§è¡Œè¾“å‡ºçš„å‘½ä»¤
```

### é…ç½®è¯´æ˜

#### ç«¯å£é…ç½®

é»˜è®¤ç«¯å£ä¸º3000ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡ä¿®æ”¹ï¼š

```bash
PORT=8080 npm start
```

#### é˜²ç«å¢™é…ç½®

ç¡®ä¿é˜²ç«å¢™å…è®¸è®¿é—®æŒ‡å®šç«¯å£ï¼š

```bash
# Ubuntu/Debian
sudo ufw allow 3000

# CentOS/RHEL
sudo firewall-cmd --add-port=3000/tcp --permanent
sudo firewall-cmd --reload
```

## ä½¿ç”¨æŒ‡å—

### Tabé¡µæ¨¡å¼

é»˜è®¤æ¨¡å¼ï¼Œä¸€æ¬¡åªæ˜¾ç¤ºä¸€ä¸ªç»ˆç«¯ï¼š
- ç‚¹å‡»é¡¶éƒ¨Tabåˆ‡æ¢ç»ˆç«¯
- ç‚¹å‡» `+ New Terminal` åˆ›å»ºæ–°ç»ˆç«¯
- ç‚¹å‡» Tab ä¸Šçš„ `âœ•` å…³é—­ç»ˆç«¯

### å¹³é“ºæ¨¡å¼

åŒæ—¶æ˜¾ç¤ºå¤šä¸ªç»ˆç«¯ï¼š
- åœ¨å³ä¸Šè§’ä¸‹æ‹‰æ¡†é€‰æ‹©ã€Œå¹³é“ºæ¨¡å¼ã€
- æ‰€æœ‰ç»ˆç«¯ä»¥ç½‘æ ¼å¸ƒå±€æ˜¾ç¤º
- æ¯ä¸ªç»ˆç«¯éƒ½å¯ä»¥ç‹¬ç«‹è¾“å…¥
- ç‚¹å‡»ç»ˆç«¯æ ‡é¢˜æ çš„ `âœ•` å…³é—­

### ç»ˆç«¯ç‰¹æ€§

1. **å†å²è®°å½•** - æ¯ä¸ªç»ˆç«¯æœ€å¤šç¼“å­˜100KBçš„è¾“å‡ºå†å²
2. **ç¯å¢ƒå˜é‡** - å®Œæ•´åŠ è½½ç”¨æˆ·shellç¯å¢ƒï¼ˆ~/.bashrcç­‰ï¼‰
3. **å®æ—¶åŒæ­¥** - å¤šäººåŒæ—¶è®¿é—®æ—¶ï¼Œå‘½ä»¤å’Œè¾“å‡ºå®æ—¶åŒæ­¥
4. **è¿›ç¨‹ä¿æŒ** - å…³é—­æµè§ˆå™¨åï¼Œè¿è¡Œçš„ç¨‹åºç»§ç»­æ‰§è¡Œ

## æœåŠ¡ç®¡ç†

### PM2 å‘½ä»¤

```bash
# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs web-terminal

# é‡å¯æœåŠ¡
pm2 restart web-terminal

# åœæ­¢æœåŠ¡
pm2 stop web-terminal

# åˆ é™¤æœåŠ¡
pm2 delete web-terminal
```

### æ›´æ–°ä»£ç 

```bash
cd claude-web
git pull
pm2 restart web-terminal
```

## æ¶æ„è¯´æ˜

### æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express + Socket.IO
- **ç»ˆç«¯**: node-pty (åˆ›å»ºçœŸå®çš„PTYè¿›ç¨‹)
- **å‰ç«¯**: xterm.js (ç»ˆç«¯æ¨¡æ‹Ÿå™¨)
- **é€šä¿¡**: WebSocket (Socket.IO)

### ç›®å½•ç»“æ„

```
claude-web/
â”œâ”€â”€ server.js          # æœåŠ¡ç«¯ä¸»ç¨‹åº
â”œâ”€â”€ package.json       # é¡¹ç›®é…ç½®
â”œâ”€â”€ public/            # å‰ç«¯æ–‡ä»¶
â”‚   â””â”€â”€ index.html     # Webç•Œé¢
â””â”€â”€ README.md          # è¯´æ˜æ–‡æ¡£
```

### æ•°æ®æµ

```
æµè§ˆå™¨ â†â†’ Socket.IO â†â†’ Node.jsæœåŠ¡å™¨ â†â†’ node-pty â†â†’ Shellè¿›ç¨‹
```

## å®‰å…¨å»ºè®®

1. **ç”Ÿäº§ç¯å¢ƒ** - å»ºè®®é…ç½®åå‘ä»£ç†(Nginx)å¹¶å¯ç”¨HTTPS
2. **è®¿é—®æ§åˆ¶** - å»ºè®®æ·»åŠ ç”¨æˆ·è®¤è¯æœºåˆ¶
3. **ç½‘ç»œéš”ç¦»** - å»ºè®®ä»…åœ¨å¯ä¿¡ç½‘ç»œå†…ä½¿ç”¨æˆ–é…ç½®VPN
4. **æƒé™é™åˆ¶** - æœåŠ¡è¿›ç¨‹ä½¿ç”¨æ™®é€šç”¨æˆ·è¿è¡Œï¼Œé¿å…root

### Nginxåå‘ä»£ç†ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name terminal.example.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## å¸¸è§é—®é¢˜

### Q: æ‰¾ä¸åˆ°æŸäº›å‘½ä»¤ï¼Ÿ

A: Webç»ˆç«¯ä»¥ç™»å½•æ¨¡å¼å¯åŠ¨shellï¼Œä¼šåŠ è½½ ~/.bashrcã€~/.bash_profile ç­‰æ–‡ä»¶ã€‚å¦‚æœç¼ºå°‘å‘½ä»¤ï¼Œè¯·æ£€æŸ¥è¿™äº›æ–‡ä»¶æ˜¯å¦æ­£ç¡®é…ç½®äº†PATHã€‚

### Q: ç»ˆç«¯è¾“å‡ºæ˜¾ç¤ºå¼‚å¸¸ï¼Ÿ

A: å°è¯•å…³é—­è¯¥ç»ˆç«¯å¹¶é‡æ–°åˆ›å»ºï¼Œæˆ–è€…åˆ·æ–°æµè§ˆå™¨é¡µé¢ã€‚

### Q: å¹³é“ºæ¨¡å¼ä¸‹ç»ˆç«¯å¤ªå°ï¼Ÿ

A: å¹³é“ºæ¨¡å¼ä¼šè‡ªåŠ¨æ ¹æ®ç»ˆç«¯æ•°é‡è°ƒæ•´å¸ƒå±€ï¼Œå»ºè®®2-4ä¸ªç»ˆç«¯æ•ˆæœæœ€ä½³ã€‚

### Q: å¦‚ä½•æ›´æ”¹é»˜è®¤Shellï¼Ÿ

A: ä¿®æ”¹ server.js ä¸­çš„ shell å‚æ•°ï¼Œæˆ–è®¾ç½®ç¯å¢ƒå˜é‡ `SHELL`ã€‚

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ä½œè€…

Created with â¤ï¸ by [Your Name]
